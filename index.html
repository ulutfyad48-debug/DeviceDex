<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Brands | Islamic & Professional</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Noto+Nastaliq+Urdu:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            --gold: #D4AF37;
            --dark: #1a1a1a;
            --white: #ffffff;
            --urdu-font: 'Noto Nastaliq Urdu', serif;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f4f4f4;
            color: var(--dark);
        }

        .urdu-text { font-family: var(--urdu-font); line-height: 1.8; }
        
        /* --- Navbar --- */
        .navbar-custom {
            background: var(--white);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 10px 0;
        }
        
        /* --- Hero Section --- */
        .hero-section {
            background: linear-gradient(180deg, var(--dark) 0%, #333 100%);
            color: var(--white);
            padding: 40px 20px;
            text-align: center;
            border-bottom: 5px solid var(--gold);
        }
        
        .brand-logo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 3px solid var(--gold);
            padding: 5px;
            background: white;
            object-fit: contain;
        }

        .hadith-box {
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--gold);
            padding: 15px;
            margin-top: 20px;
            border-radius: 10px;
        }

        /* --- Main Action Buttons --- */
        .action-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: 0.3s;
            cursor: pointer;
            border: 2px solid transparent;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            height: 100%;
        }

        .action-card:hover {
            transform: translateY(-5px);
            border-color: var(--gold);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .icon-box {
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 10px;
        }

        /* --- Iframe Overlay --- */
        #iframe-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: white;
            z-index: 9999;
            display: none;
            flex-direction: column;
        }
        
        .iframe-header {
            background: var(--dark);
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* --- Product Catalog --- */
        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            transition: 0.3s;
        }
        .product-card:hover { transform: scale(1.02); }
        .p-img-box { height: 200px; overflow: hidden; }
        .p-img-box img { width: 100%; height: 100%; object-fit: cover; }

        /* --- Ad Space --- */
        .ad-banner {
            background: #e9ecef;
            border: 1px dashed #999;
            text-align: center;
            padding: 20px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>

    <nav class="navbar-custom sticky-top">
        <div class="container d-flex justify-content-between align-items-center">
            <a href="index.html" class="text-decoration-none fw-bold text-dark">
                <i class="bi bi-gem text-warning me-1"></i> <span id="navBrand">Elite</span>
            </a>
            <a href="help.html" class="btn btn-outline-dark btn-sm rounded-pill">
                <i class="bi bi-question-circle"></i> Help / مدد
            </a>
        </div>
    </nav>

    <div id="home-view">
        <header class="hero-section">
            <img id="mainLogo" src="" alt="Logo" class="brand-logo mb-3">
            <h2 id="heroBrandName" class="fw-bold">...</h2>
            
            <div class="container">
                <div class="hadith-box">
                    <p id="hadithUrdu" class="urdu-text mb-1 fs-5">...</p>
                    <small id="hadithEnglish" class="fst-italic opacity-75">...</small>
                </div>
            </div>
        </header>

        <div class="container">
            <div class="ad-banner" id="adTop">
                <span>ADVERTISEMENT SPACE (Top)</span>
                </div>
        </div>

        <div class="container my-5">
            <div class="row g-4 justify-content-center">
                <div class="col-md-5">
                    <div class="action-card" onclick="openDirectShop()">
                        <div class="icon-box"><i class="bi bi-globe2"></i></div>
                        <h4 class="fw-bold">Shop Direct</h4>
                        <p class="urdu-text text-muted">ویب سائٹ کے اندر سے آرڈر کریں</p>
                        <small class="text-primary">Click to Open Store</small>
                    </div>
                </div>

                <div class="col-md-5">
                    <div class="action-card" onclick="openCatalog()">
                        <div class="icon-box"><i class="bi bi-grid-3x3-gap"></i></div>
                        <h4 class="fw-bold">Browse Catalog</h4>
                        <p class="urdu-text text-muted">پروڈکٹس دیکھیں اور آرڈر کریں</p>
                        <small class="text-success">Daraz, WhatsApp, Markaz</small>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="container text-center mb-5">
            <div class="d-flex justify-content-center gap-3">
                <a href="contact.html" class="btn btn-sm btn-light border"><i class="bi bi-telephone"></i> Contact</a>
                <a href="about.html" class="btn btn-sm btn-light border"><i class="bi bi-info-circle"></i> About</a>
                <a href="developer.html" class="btn btn-sm btn-light border"><i class="bi bi-code"></i> Developer</a>
            </div>
        </div>
    </div>

    <div id="catalog-view" class="d-none">
        <div class="container py-3">
            <button class="btn btn-dark mb-3" onclick="closeCatalog()">
                <i class="bi bi-arrow-left"></i> Back to Home
            </button>
            
            <div class="input-group mb-4 shadow-sm">
                <span class="input-group-text bg-white"><i class="bi bi-search"></i></span>
                <input type="text" id="searchInput" class="form-control border-start-0" placeholder="Search products..." onkeyup="filterProducts()">
            </div>

            <div class="row g-4" id="productGrid">
                </div>
             
             <div class="ad-banner" id="adBottom">
                <span>ADVERTISEMENT SPACE (Bottom)</span>
            </div>
        </div>
    </div>

    <div id="iframe-container">
        <div class="iframe-header">
            <div class="d-flex align-items-center">
                <span class="badge bg-success me-2">Secure</span>
                <small>Browsing Store...</small>
            </div>
            <button class="btn btn-sm btn-danger rounded-pill" onclick="closeDirectShop()">
                <i class="bi bi-x-lg"></i> Close
            </button>
        </div>
        <iframe id="storeFrame" src="" style="flex:1; border:none; width:100%;"></iframe>
    </div>

    <script src="data.js"></script>
    <script>
        // Initialize
        window.onload = function() {
            // Load Config
            document.getElementById('navBrand').innerText = siteConfig.brandName;
            document.getElementById('heroBrandName').innerText = siteConfig.brandName;
            document.getElementById('mainLogo').src = siteConfig.brandLogo;
            document.getElementById('hadithUrdu').innerText = siteConfig.hadithUrdu;
            document.getElementById('hadithEnglish').innerText = siteConfig.hadithEnglish;

            // Load Ads (if configured)
            if(siteConfig.adCodeTop) document.getElementById('adTop').innerHTML = siteConfig.adCodeTop;
            if(siteConfig.adCodeBottom) document.getElementById('adBottom').innerHTML = siteConfig.adCodeBottom;

            renderProducts(products);
        };

        // Navigation Functions
        function openCatalog() {
            document.getElementById('home-view').classList.add('d-none');
            document.getElementById('catalog-view').classList.remove('d-none');
        }

        function closeCatalog() {
            document.getElementById('catalog-view').classList.add('d-none');
            document.getElementById('home-view').classList.remove('d-none');
        }

        function openDirectShop() {
            const frame = document.getElementById('iframe-container');
            document.getElementById('storeFrame').src = siteConfig.iframeUrl;
            frame.style.display = 'flex';
        }

        function closeDirectShop() {
            document.getElementById('iframe-container').style.display = 'none';
            document.getElementById('storeFrame').src = '';
        }

        // Product Logic
        function renderProducts(list) {
            const grid = document.getElementById('productGrid');
            grid.innerHTML = '';
            
            if(list.length === 0) {
                grid.innerHTML = '<div class="col-12 text-center text-muted">No products found.</div>';
                return;
            }

            list.forEach(prod => {
                let buttons = '';
                prod.links.forEach(link => {
                    let btnClass = link.type === 'whatsapp' ? 'btn-success' : 'btn-dark';
                    let icon = link.type === 'whatsapp' ? 'bi-whatsapp' : 'bi-bag';
                    buttons += `<a href="${link.url}" target="_blank" class="btn btn-sm ${btnClass} flex-grow-1"><i class="bi ${icon}"></i> ${link.name}</a>`;
                });

                grid.innerHTML += `
                    <div class="col-12 col-md-6 col-lg-4">
                        <div class="product-card h-100 d-flex flex-column">
                            <div class="p-img-box">
                                <img src="${prod.image}" alt="${prod.title}">
                            </div>
                            <div class="p-3 flex-grow-1 d-flex flex-column">
                                <div class="d-flex justify-content-between">
                                    <h6 class="fw-bold">${prod.title}</h6>
                                    <span class="text-warning fw-bold">Rs.${prod.price}</span>
                                </div>
                                <p class="small text-muted urdu-text flex-grow-1">${prod.description}</p>
                                <div class="d-flex gap-2 mt-2">${buttons}</div>
                            </div>
                        </div>
                    </div>
                `;
            });
        }
        
        // Filter Logic
        function filterProducts() {
            let query = document.getElementById('searchInput').value.toLowerCase();
            let filtered = products.filter(p => p.title.toLowerCase().includes(query) || p.description.includes(query));
            renderProducts(filtered);
        }
    </script>
</body>
</html>
